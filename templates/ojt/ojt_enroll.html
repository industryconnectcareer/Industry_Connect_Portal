{% extends "base.html" %}
{% block content %}

<a href="{{ url_for('ojt.ojt_detail', ojt_id=program.id) }}" class="back-link">← Back to Program</a>

<div class="enroll-container">

    <!-- Heading -->
    <div class="enroll-header">
        <h2 class="enroll-title">
            Enroll in {{ program.title }}
        </h2>

        {% if program.is_paid %}
            <span class="badge paid">Paid</span>
        {% else %}
            <span class="badge unpaid">Unpaid</span>
        {% endif %}
    </div>

    <p class="meta-text">
        <b>{{ program.duration }}</b> • {{ program.mode }} • {{ program.stipend or 'No stipend' }}
    </p>

    {% if program.company %}
    <p class="company-text">
        Provided By: <b>{{ program.company }}</b>
    </p>
    {% endif %}

    <!-- Enrollment Form -->
    <form action="{{ url_for('ojt.ojt_enroll', ojt_id=program.id) }}" 
          method="POST" 
          class="enroll-card">

        <div class="form-group">
            <label>Full Name</label>
            <input type="text" 
                   name="full_name" 
                   required 
                   value="{{ current_user.name if current_user.is_authenticated else '' }}">
        </div>

        <div class="form-group">
            <label>Email</label>
            <input type="email" 
                   name="email" 
                   required
                   value="{{ current_user.email if current_user.is_authenticated else '' }}">
        </div>

        <div class="form-group">
            <label>Phone Number</label>
            <input type="text" 
                   name="phone" 
                   required
                   placeholder="Enter your mobile number">
        </div>

        <div class="form-group">
            <label>College / Course</label>
            <input type="text" 
                   name="course" 
                   placeholder="Ex: B.Com Accounting & Finance"
                   value="{{ current_user.course if current_user.is_authenticated else '' }}">
        </div>

        <button type="submit" class="btn-primary">
            Confirm Enrollment
        </button>
    </form>

</div>


<style>

/* Container Layout */
.enroll-container {
    max-width: 700px;
    margin: auto;
    padding: 20px;
}

/* Back Link */
.back-link {
    display: inline-block;
    margin-bottom: 15px;
    color: #0a575d;
    font-weight: 600;
    text-decoration: none;
}

/* Header */
.enroll-header {
    display: flex;
    align-items: center;
    gap: 12px;
}
.enroll-title {
    font-size: 28px;
    font-weight: 700;
    margin: 0;
    color: #0a575d;
}

/* Badges */
.badge {
    padding: 5px 12px;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 600;
}
.badge.paid {
    background: #ffe08a;
}
.badge.unpaid {
    background: #dcdcdc;
}

/* Meta Text */
.meta-text, .company-text {
    margin-top: 5px;
    color: #555;
}

/* Card Form */
.enroll-card {
    background: #ffffff;
    padding: 25px;
    border-radius: 14px;
    box-shadow: 0px 4px 12px rgba(0,0,0,0.08);
    margin-top: 20px;
}

/* Form Groups */
.form-group {
    margin-bottom: 18px;
}
.form-group label {
    font-weight: 600;
    display: block;
    margin-bottom: 6px;
    color: #0a575d;
}
.form-group input {
    width: 100%;
    padding: 12px;
    border-radius: 8px;
    border: 1px solid #d3d6d9;
    font-size: 15px;
}

/* Submit Button */
.btn-primary {
    width: 100%;
    padding: 12px;
    background: #0a575d;
    border: none;
    border-radius: 8px;
    color: white;
    font-weight: 700;
    cursor: pointer;
    font-size: 16px;
    margin-top: 10px;
    transition: 0.25s;
}
.btn-primary:hover {
    background: #084d51;
}

</style>

{% endblock %}